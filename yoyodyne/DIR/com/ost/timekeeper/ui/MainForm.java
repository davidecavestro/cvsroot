/*
 * MainForm.java
 *
 * Created on 22 febbraio 2004, 10.56
 */

package com.ost.timekeeper.ui;

import com.ost.timekeeper.*;
import com.ost.timekeeper.view.*;
import javax.swing.event.*;

/**
 *
 * @author  davide
 */
public class MainForm extends javax.swing.JFrame {
	
	private Application application;
	private ProgressItemCellRenderer progressItemCellRenderer;
	/** Creates new form MainForm */
	public MainForm(Application app) {
		this.application = app;
		progressItemCellRenderer = new ProgressItemCellRenderer ();
		initComponents();
		postInitComponents();
	}
	
	/** This method is called from within the constructor to
	 * initialize the form.
	 * WARNING: Do NOT modify this code. The content of this method is
	 * always regenerated by the Form Editor.
	 */
    private void initComponents() {//GEN-BEGIN:initComponents
        progressTimer = new org.netbeans.examples.lib.timerbean.Timer();
        jPopupMenu1 = new javax.swing.JPopupMenu();
        jMenuItem1 = new javax.swing.JMenuItem();
        jPanelMain = new javax.swing.JPanel();
        jPanelMainToolbar = new javax.swing.JPanel();
        jToolBarMain = new javax.swing.JToolBar();
        ndeCreateButton = new javax.swing.JButton();
        nodeDeleteButton = new javax.swing.JButton();
        jSeparator2 = new javax.swing.JSeparator();
        startButton = new javax.swing.JButton();
        stopButton = new javax.swing.JButton();
        statusBar = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jobProgress = new javax.swing.JProgressBar();
        jLabel3 = new javax.swing.JLabel();
        jPanel1 = new javax.swing.JPanel();
        jSplitPane1 = new javax.swing.JSplitPane();
        modelTree = new javax.swing.JTree();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jTable1 = new javax.swing.JTable();
        jTable2 = new javax.swing.JTable();
        jPanel2 = new javax.swing.JPanel();
        jLayeredPane1 = new javax.swing.JLayeredPane();
        jLabel4 = new javax.swing.JLabel();
        jTextField1 = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        jTextField2 = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        jTextField3 = new javax.swing.JTextField();
        jMenuBarMain = new javax.swing.JMenuBar();
        jMenuFile = new javax.swing.JMenu();
        jMenuItemNew = new javax.swing.JMenuItem();
        jMenuItemOpen = new javax.swing.JMenuItem();
        jMenuExport = new javax.swing.JMenu();
        jMenuItemClose = new javax.swing.JMenuItem();
        jSeparator1 = new javax.swing.JSeparator();
        jMenuItemFinish = new javax.swing.JMenuItem();
        jMenuEdit = new javax.swing.JMenu();
        jMenuItemCut = new javax.swing.JMenuItem();
        jMenuItemCopy = new javax.swing.JMenuItem();
        jMenuItemPaste = new javax.swing.JMenuItem();
        jMenuActions = new javax.swing.JMenu();
        jMenuItemStart = new javax.swing.JMenuItem();
        jMenuItemStop = new javax.swing.JMenuItem();
        jMenuItemNodeCreate = new javax.swing.JMenuItem();
        jMenuItemDeleteNode = new javax.swing.JMenuItem();
        jMenuTools = new javax.swing.JMenu();
        jMenuItemOptions = new javax.swing.JMenuItem();
        jMenuHelp = new javax.swing.JMenu();
        jMenuItemAbout = new javax.swing.JMenuItem();
        jMenuItemHelp = new javax.swing.JMenuItem();

        jMenuItem1.setText("Item");
        jPopupMenu1.add(jMenuItem1);

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/global").getString("app.title"));
        setBackground(new java.awt.Color(204, 204, 255));
        setFont(new java.awt.Font("Default", 0, 10));
        setIconImage(getIconImage());
        setName("frameMain");
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                exitForm(evt);
            }
        });

        jPanelMain.setLayout(new java.awt.BorderLayout());

        jPanelMainToolbar.setLayout(new java.awt.BorderLayout());

        jToolBarMain.setBorder(new javax.swing.border.EtchedBorder());
        jToolBarMain.setRollover(true);
        ndeCreateButton.setAction(this.application.getInstance().getNodeCreateAction());
        jToolBarMain.add(ndeCreateButton);

        nodeDeleteButton.setAction(this.application.getInstance().getNodeDeleteAction());
        jToolBarMain.add(nodeDeleteButton);

        jToolBarMain.add(jSeparator2);

        startButton.setAction(this.application.getInstance().getProgressStartAction());
        startButton.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("actions.start"));
        jToolBarMain.add(startButton);

        stopButton.setAction(this.application.getInstance().getProgressStopAction());
        jToolBarMain.add(stopButton);

        jPanelMainToolbar.add(jToolBarMain, java.awt.BorderLayout.NORTH);

        statusBar.setLayout(new javax.swing.BoxLayout(statusBar, javax.swing.BoxLayout.X_AXIS));

        statusBar.setMinimumSize(new java.awt.Dimension(10, 30));
        jLabel1.setFont(new java.awt.Font("Default", 0, 12));
        jLabel1.setText("statusLabel");
        jLabel1.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0)));
        statusBar.add(jLabel1);

        jLabel2.setFont(new java.awt.Font("Default", 0, 12));
        jLabel2.setText("jLabel2");
        jLabel2.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0)));
        statusBar.add(jLabel2);

        jobProgress.setBorder(null);
        statusBar.add(jobProgress);

        jLabel3.setFont(new java.awt.Font("Default", 0, 12));
        jLabel3.setText("jLabel3");
        jLabel3.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0)));
        statusBar.add(jLabel3);

        jPanelMainToolbar.add(statusBar, java.awt.BorderLayout.SOUTH);

        jPanel1.setLayout(new java.awt.BorderLayout());

        jSplitPane1.setToolTipText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/global").getString("controls.splitter.tooltip"));
        modelTree.setCellEditor(new javax.swing.tree.DefaultTreeCellEditor (modelTree, progressItemCellRenderer));
        modelTree.setCellRenderer(progressItemCellRenderer);
        modelTree.setMaximumSize(null);
        modelTree.setMinimumSize(null);
        modelTree.setModel(null);
        modelTree.setAutoscrolls(true);
        jSplitPane1.setLeftComponent(modelTree);

        jTabbedPane1.setMaximumSize(null);
        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        jTable1.setMaximumSize(null);
        jTable1.setMinimumSize(null);
        jTabbedPane1.addTab("tab2", jTable1);

        jTable2.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        jTable2.setMaximumSize(null);
        jTable2.setMinimumSize(null);
        jTabbedPane1.addTab("tab3", jTable2);

        jPanel2.setLayout(new java.awt.BorderLayout());

        jPanel2.setAutoscrolls(true);
        jLayeredPane1.setAutoscrolls(true);
        jLabel4.setText("jLabel4");
        jLabel4.setBounds(20, 20, -1, -1);
        jLayeredPane1.add(jLabel4, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jTextField1.setText("jTextField1");
        jTextField1.setMaximumSize(null);
        jTextField1.setMinimumSize(null);
        jTextField1.setBounds(90, 100, 300, -1);
        jLayeredPane1.add(jTextField1, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel5.setText("jLabel4");
        jLabel5.setBounds(20, 100, -1, -1);
        jLayeredPane1.add(jLabel5, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jTextField2.setText("jTextField1");
        jTextField2.setMaximumSize(null);
        jTextField2.setMinimumSize(null);
        jTextField2.setBounds(90, 60, 300, -1);
        jLayeredPane1.add(jTextField2, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jLabel6.setText("jLabel4");
        jLabel6.setBounds(20, 60, -1, -1);
        jLayeredPane1.add(jLabel6, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jTextField3.setText("jTextField1");
        jTextField3.setMaximumSize(null);
        jTextField3.setMinimumSize(null);
        jTextField3.setBounds(90, 20, 300, -1);
        jLayeredPane1.add(jTextField3, javax.swing.JLayeredPane.DEFAULT_LAYER);

        jPanel2.add(jLayeredPane1, java.awt.BorderLayout.CENTER);

        jTabbedPane1.addTab("tab3", jPanel2);

        jSplitPane1.setRightComponent(jTabbedPane1);

        jPanel1.add(jSplitPane1, java.awt.BorderLayout.CENTER);

        jPanelMainToolbar.add(jPanel1, java.awt.BorderLayout.CENTER);

        jPanelMain.add(jPanelMainToolbar, java.awt.BorderLayout.CENTER);

        getContentPane().add(jPanelMain, java.awt.BorderLayout.CENTER);

        jMenuFile.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("file"));
        jMenuItemNew.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_N, java.awt.event.InputEvent.CTRL_MASK));
        jMenuItemNew.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("file.new"));
        jMenuFile.add(jMenuItemNew);

        jMenuItemOpen.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_O, java.awt.event.InputEvent.CTRL_MASK));
        jMenuItemOpen.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("file.open"));
        jMenuItemOpen.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jMenuItemOpenActionPerformed(evt);
            }
        });

        jMenuFile.add(jMenuItemOpen);

        jMenuExport.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("file.export"));
        jMenuFile.add(jMenuExport);

        jMenuItemClose.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_L, java.awt.event.InputEvent.CTRL_MASK));
        jMenuItemClose.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("file.close"));
        jMenuItemClose.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jMenuItemCloseActionPerformed(evt);
            }
        });

        jMenuFile.add(jMenuItemClose);

        jMenuFile.add(jSeparator1);

        jMenuItemFinish.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_Q, java.awt.event.InputEvent.CTRL_MASK));
        jMenuItemFinish.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("file.exit"));
        jMenuFile.add(jMenuItemFinish);

        jMenuBarMain.add(jMenuFile);

        jMenuEdit.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("edit"));
        jMenuItemCut.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_X, java.awt.event.InputEvent.CTRL_MASK));
        jMenuItemCut.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("edit.cut"));
        jMenuEdit.add(jMenuItemCut);

        jMenuItemCopy.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_C, java.awt.event.InputEvent.CTRL_MASK));
        jMenuItemCopy.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("edit.copy"));
        jMenuEdit.add(jMenuItemCopy);

        jMenuItemPaste.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_V, java.awt.event.InputEvent.CTRL_MASK));
        jMenuItemPaste.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("edit.paste"));
        jMenuEdit.add(jMenuItemPaste);

        jMenuBarMain.add(jMenuEdit);

        jMenuActions.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("actions"));
        jMenuItemStart.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_B, java.awt.event.InputEvent.CTRL_MASK));
        jMenuItemStart.setAction(this.application.getInstance().getProgressStartAction());
        jMenuItemStart.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("actions.start"));
        jMenuActions.add(jMenuItemStart);

        jMenuItemStop.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_E, java.awt.event.InputEvent.CTRL_MASK));
        jMenuItemStop.setAction(this.application.getInstance().getProgressStopAction());
        jMenuItemStop.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("actions.stop"));
        jMenuActions.add(jMenuItemStop);

        jMenuItemNodeCreate.setAction(this.application.getInstance().getNodeCreateAction());
        jMenuActions.add(jMenuItemNodeCreate);

        jMenuItemDeleteNode.setAction(this.application.getInstance().getNodeDeleteAction());
        jMenuActions.add(jMenuItemDeleteNode);

        jMenuBarMain.add(jMenuActions);

        jMenuTools.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("tool"));
        jMenuItemOptions.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("tools.options"));
        jMenuTools.add(jMenuItemOptions);

        jMenuBarMain.add(jMenuTools);

        jMenuHelp.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("help"));
        jMenuItemAbout.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_QUOTE, java.awt.event.InputEvent.SHIFT_MASK | java.awt.event.InputEvent.CTRL_MASK));
        jMenuItemAbout.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("help.about"));
        jMenuHelp.add(jMenuItemAbout);

        jMenuItemHelp.setAccelerator(javax.swing.KeyStroke.getKeyStroke(java.awt.event.KeyEvent.VK_F1, 0));
        jMenuItemHelp.setText(java.util.ResourceBundle.getBundle("com/ost/timekeeper/ui/bundle/menu").getString("help.help"));
        jMenuItemHelp.setActionCommand("Help");
        jMenuHelp.add(jMenuItemHelp);

        jMenuBarMain.add(jMenuHelp);

        setJMenuBar(jMenuBarMain);

        pack();
    }//GEN-END:initComponents

	private void jMenuItemCloseActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemCloseActionPerformed
		// Add your handling code here:
	}//GEN-LAST:event_jMenuItemCloseActionPerformed

	private void jMenuItemOpenActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemOpenActionPerformed
		// Add your handling code here:
	}//GEN-LAST:event_jMenuItemOpenActionPerformed
	
	/** Exit the Application */
	private void exitForm(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_exitForm
		System.exit(0);
	}//GEN-LAST:event_exitForm
	
	
	
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLayeredPane jLayeredPane1;
    private javax.swing.JMenu jMenuActions;
    private javax.swing.JMenuBar jMenuBarMain;
    private javax.swing.JMenu jMenuEdit;
    private javax.swing.JMenu jMenuExport;
    private javax.swing.JMenu jMenuFile;
    private javax.swing.JMenu jMenuHelp;
    private javax.swing.JMenuItem jMenuItem1;
    private javax.swing.JMenuItem jMenuItemAbout;
    private javax.swing.JMenuItem jMenuItemClose;
    private javax.swing.JMenuItem jMenuItemCopy;
    private javax.swing.JMenuItem jMenuItemCut;
    private javax.swing.JMenuItem jMenuItemDeleteNode;
    private javax.swing.JMenuItem jMenuItemFinish;
    private javax.swing.JMenuItem jMenuItemHelp;
    private javax.swing.JMenuItem jMenuItemNew;
    private javax.swing.JMenuItem jMenuItemNodeCreate;
    private javax.swing.JMenuItem jMenuItemOpen;
    private javax.swing.JMenuItem jMenuItemOptions;
    private javax.swing.JMenuItem jMenuItemPaste;
    private javax.swing.JMenuItem jMenuItemStart;
    private javax.swing.JMenuItem jMenuItemStop;
    private javax.swing.JMenu jMenuTools;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanelMain;
    private javax.swing.JPanel jPanelMainToolbar;
    private javax.swing.JPopupMenu jPopupMenu1;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JSeparator jSeparator2;
    private javax.swing.JSplitPane jSplitPane1;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTable jTable1;
    private javax.swing.JTable jTable2;
    private javax.swing.JTextField jTextField1;
    private javax.swing.JTextField jTextField2;
    private javax.swing.JTextField jTextField3;
    private javax.swing.JToolBar jToolBarMain;
    private javax.swing.JProgressBar jobProgress;
    private javax.swing.JTree modelTree;
    private javax.swing.JButton ndeCreateButton;
    private javax.swing.JButton nodeDeleteButton;
    private org.netbeans.examples.lib.timerbean.Timer progressTimer;
    private javax.swing.JButton startButton;
    private javax.swing.JPanel statusBar;
    private javax.swing.JButton stopButton;
    // End of variables declaration//GEN-END:variables

    private void postInitComponents() {
		this.progressTreeModel = new ProgressTreeModel (application.getProject());
		this.modelTree.setModel(this.progressTreeModel);
		this.modelTree.addTreeSelectionListener (new TreeSelectionListener (){
			 public void valueChanged(TreeSelectionEvent e){
				 application.setSelectedItem((ProgressItemNode)e.getPath().getLastPathComponent());
			 }
		});
		this.modelTree.setSelectionRow(0);
	}
	private ProgressTreeModel progressTreeModel;
	public ProgressTreeModel getProgressTreeModel (){
		return this.progressTreeModel;
	}
}
